@model GymTrackerShared.Models.Routine

@{
    ViewBag.Title = "Detail";
    var trainindDayId = 0;
}

<a href="@Url.Action("Index")" class="d-block mt-3"><i class="fa-regular fa-circle-left fa-lg"></i></a>

<h1 class="text-center mb-3 mt-lg-5 mb-lg-5">@Model.Name</h1>

@Html.Partial("_Message")

<div class="d-lg-flex justify-content-lg-between flex-lg-wrap h-75">

    @foreach (var trainingDay in Model.ExerciseDays.GroupBy(ed => ed.TrainingDay))
    {
        <div class="col-lg-3 card text-center mb-3 bg-secondary mx-lg-1" style="min-width: 200px">
            <h3 class="card-header">@trainingDay.Key.Name</h3>

            <table class="table">
                @foreach (var exercise in trainingDay)
                {
                    trainindDayId = exercise.TrainingDayId;
                    <tr>
                        <td class="mb-2">
                            @Html.ActionLink(exercise.Exercise.Name, "Detail", "ExerciseDays",
                            new { Id = exercise.Exercise.Id, routineId = exercise.RoutineId, dayId = exercise.TrainingDayId }, new { @class = "link-primary" })
                        </td>
                        <td>
                            <a href="@Url.Action("Edit", "ExerciseDays",
                                    new { Id = exercise.Exercise.Id, routineId = exercise.RoutineId, dayId = exercise.TrainingDayId })">
                                <span class="fa-regular fa-pen-to-square"></span>
                            </a>
                        </td>
                    </tr>
                }

            </table>
          
            <a href="@Url.Action("Add", "ExerciseDays", new { routineId = Model.Id, dayId = trainindDayId })"><span class="fa-solid fa-circle-plus fa-2x"></span></a>
        </div>
    }
</div>



